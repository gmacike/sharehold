{% load widget_tweaks %}

{% csrf_token %}

{% for hidden in form.hidden_fields %}
  {{ hidden }}
{% endfor %}

{% if messages %}
<ul class="messages">
    {% for message in messages %}
    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

{% for field in form.visible_fields %}
  <div class="form-group">
    <label for="{{ field.id_for_label }}">{{ field.label }}</label>
    {{ field|add_class:'form-control' }}
    {{ field.get_queryset }}
    {% for error in field.errors %}
      <span class="help-block">{{ error }}</span>
    {% endfor %}
  </div>
{% endfor %}

<!-- {% for error in form.errors %}
  <span class="help-block">{{ error }}</span>
{% endfor %} -->
